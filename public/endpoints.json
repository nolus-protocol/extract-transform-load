[
  {
    "category": "Protocol Analytics",
    "description": "Returns the total value locked (TVL) across all liquidity pools in USD.",
    "url": "/api/total-value-locked",
    "type": "GET",
    "response": "{ total_value_locked: BigDecimal }",
    "cache": "30 min",
    "example": "{ \"total_value_locked\": \"12543892.45\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the cumulative value of all transactions processed by the protocol in USD.",
    "url": "/api/total-tx-value",
    "type": "GET",
    "response": "{ total_tx_value: BigDecimal }",
    "cache": "30 min",
    "example": "{ \"total_tx_value\": \"89234521.12\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the total protocol revenue generated from fees and interest in USD.",
    "url": "/api/revenue",
    "type": "GET",
    "response": "{ revenue: BigDecimal }",
    "cache": "30 min",
    "example": "{ \"revenue\": \"1823456.78\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the total amount currently borrowed across all lending pools in USD.",
    "url": "/api/borrowed",
    "type": "GET",
    "response": "{ borrowed: BigDecimal }",
    "cache": "30 min",
    "example": "{ \"borrowed\": \"5432109.87\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the total funds supplied by lenders across all pools in USD.",
    "url": "/api/supplied-funds",
    "type": "GET",
    "response": "{ supplied_funds: BigDecimal }",
    "cache": "30 min",
    "example": "{ \"supplied_funds\": \"18234567.90\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the number of blockchain blocks synced by the ETL service.",
    "url": "/api/blocks",
    "type": "GET",
    "response": "{ blocks: Number }",
    "example": "{ \"blocks\": 15234567 }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the current version of the ETL service.",
    "url": "/api/version",
    "type": "GET",
    "response": "{ version: String }",
    "example": "{ \"version\": \"3.14.22\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns a time series of supplied vs borrowed amounts for tracking pool utilization trends.",
    "url": "/api/supplied-borrowed-history",
    "type": "GET",
    "response": "[{ date: DateTime, supplied: BigDecimal, borrowed: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"date\": \"2025-01-15T00:00:00Z\", \"supplied\": \"18234567.90\", \"borrowed\": \"5432109.87\" }]",
    "params": [
      { "name": "protocol", "type": "String", "default": "total", "description": "Filter by protocol (e.g., OSMOSIS-OSMOSIS-USDC). Defaults to 'total' for aggregated data." },
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the count of unique active wallet addresses per month.",
    "url": "/api/monthly-active-wallets",
    "type": "GET",
    "response": "[{ month: String, unique_addresses: Number }]",
    "cache": "1 hour",
    "example": "[{ \"month\": \"2025-01\", \"unique_addresses\": 1523 }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns daily and cumulative revenue over time for trend analysis.",
    "url": "/api/revenue-series",
    "type": "GET",
    "response": "[{ time: DateTime, daily: BigDecimal, cumulative: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"time\": \"2025-01-15T00:00:00Z\", \"daily\": \"12345.67\", \"cumulative\": \"1823456.78\" }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns historical borrow APR values for a specific protocol. Returns array of APR values (BigDecimal). CSV format includes full data with timestamps.",
    "url": "/api/borrow-apr",
    "type": "GET",
    "response": "[BigDecimal]",
    "cache": "1 hour",
    "example": "[\"12.5\", \"12.3\", \"11.9\"]",
    "params": [
      { "name": "protocol", "type": "String", "description": "Protocol identifier (e.g., OSMOSIS-OSMOSIS-USDC). Returns empty array if not specified." },
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"], "description": "CSV format includes timestamps and full APR data" }
    ]
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the current earn APR for liquidity providers, optionally filtered by protocol. Returns 0 if no protocol specified.",
    "url": "/api/earn-apr",
    "type": "GET",
    "response": "{ earn_apr: BigDecimal }",
    "example": "{ \"earn_apr\": \"8.75\" }",
    "params": [
      { "name": "protocol", "type": "String", "description": "Protocol identifier (e.g., OSMOSIS-OSMOSIS-USDC). Returns 0 if not specified." }
    ]
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns historical pool utilization values for a specific protocol. Returns array of utilization percentages (BigDecimal). CSV format includes full data with timestamps.",
    "url": "/api/utilization-level",
    "type": "GET",
    "response": "[BigDecimal]",
    "cache": "30 min",
    "example": "[\"68.5\", \"67.2\", \"69.1\"]",
    "params": [
      { "name": "protocol", "type": "String", "description": "Protocol identifier (e.g., OSMOSIS-OSMOSIS-USDC). Returns empty array if not specified." },
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"], "description": "CSV format includes timestamps and full utilization data" }
    ]
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns current utilization levels for all pools in a single request. Eliminates N+1 queries when displaying multiple pools.",
    "url": "/api/utilization-levels",
    "type": "GET",
    "response": "{ protocols: [{ protocol: String, utilization: BigDecimal, total_value_locked_in_stable: BigDecimal, date: DateTime }] }",
    "cache": "30 min",
    "example": "{ \"protocols\": [{ \"protocol\": \"OSMOSIS-OSMOSIS-USDC\", \"utilization\": \"68.5\", \"total_value_locked_in_stable\": \"5432109.87\", \"date\": \"2025-01-15T00:00:00Z\" }] }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the optimal utilization rate threshold configured for the protocol.",
    "url": "/api/optimal",
    "type": "GET",
    "response": "{ optimal: String }",
    "example": "{ \"optimal\": \"80\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the deposit suspension threshold percentage.",
    "url": "/api/deposit-suspension",
    "type": "GET",
    "response": "{ deposit_suspension: String }",
    "example": "{ \"deposit_suspension\": \"95\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns NLS token buyback transactions with time window filtering.",
    "url": "/api/buyback",
    "type": "GET",
    "response": "[{ time: DateTime, Bought-back: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"time\": \"2025-01-15T12:30:00Z\", \"Bought-back\": \"50000.00\" }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the total amount spent on NLS token buybacks in USD.",
    "url": "/api/buyback-total",
    "type": "GET",
    "response": "{ buyback_total: BigDecimal }",
    "cache": "1 hour",
    "example": "{ \"buyback_total\": \"2345678.90\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the total rewards distributed to stakers in USD.",
    "url": "/api/distributed",
    "type": "GET",
    "response": "{ distributed: BigDecimal }",
    "cache": "1 hour",
    "example": "{ \"distributed\": \"987654.32\" }"
  },
  {
    "category": "Protocol Analytics",
    "description": "Returns the current balance of the incentives pool in USD.",
    "url": "/api/incentives-pool",
    "type": "GET",
    "response": "{ incentives_pool: BigDecimal }",
    "cache": "1 hour",
    "example": "{ \"incentives_pool\": \"1234567.89\" }"
  },
  {
    "category": "Position Analytics",
    "description": "Returns the total market value of all open positions in USD.",
    "url": "/api/open-position-value",
    "type": "GET",
    "response": "{ open_position_value: BigDecimal }",
    "cache": "1 hour",
    "example": "{ \"open_position_value\": \"8765432.10\" }"
  },
  {
    "category": "Position Analytics",
    "description": "Returns the total outstanding debt across all open positions in USD.",
    "url": "/api/open-interest",
    "type": "GET",
    "response": "{ open_interest: BigDecimal }",
    "cache": "1 hour",
    "example": "{ \"open_interest\": \"4321098.76\" }"
  },
  {
    "category": "Position Analytics",
    "description": "Returns the aggregate unrealized profit and loss for all open positions in USD.",
    "url": "/api/unrealized-pnl",
    "type": "GET",
    "response": "{ unrealized_pnl: BigDecimal }",
    "cache": "1 hour",
    "example": "{ \"unrealized_pnl\": \"234567.89\" }"
  },
  {
    "category": "Position Analytics",
    "description": "Returns the aggregate realized profit and loss from all closed positions in USD.",
    "url": "/api/realized-pnl-stats",
    "type": "GET",
    "response": "{ realized_pnl: BigDecimal }",
    "cache": "1 hour",
    "example": "{ \"realized_pnl\": \"567890.12\" }"
  },
  {
    "category": "Position Analytics",
    "description": "Returns the total value of leased assets grouped by token symbol.",
    "url": "/api/leased-assets",
    "type": "GET",
    "response": "[{ symbol: String, value: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"symbol\": \"ATOM\", \"value\": \"1234567.89\" }, { \"symbol\": \"OSMO\", \"value\": \"987654.32\" }]"
  },
  {
    "category": "Position Analytics",
    "description": "Returns active loan amounts grouped by token symbol.",
    "url": "/api/loans-by-token",
    "type": "GET",
    "response": "[{ symbol: String, value: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"symbol\": \"USDC\", \"value\": \"2345678.90\" }, { \"symbol\": \"USDC_NOBLE\", \"value\": \"1234567.89\" }]"
  },
  {
    "category": "Position Analytics",
    "description": "Returns open positions grouped by token with their current market values.",
    "url": "/api/open-positions-by-token",
    "type": "GET",
    "response": "[{ token: String, market_value: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"token\": \"ATOM\", \"market_value\": \"1234567.89\" }]"
  },
  {
    "category": "Position Analytics",
    "description": "Returns position count and size distribution across predefined loan size buckets.",
    "url": "/api/position-buckets",
    "type": "GET",
    "response": "[{ loan_category: String, loan_count: Number, loan_size: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"loan_category\": \"$1k-$5k\", \"loan_count\": 145, \"loan_size\": \"432100.00\" }]"
  },
  {
    "category": "Position Analytics",
    "description": "Returns detailed information for all open positions including PnL, prices, and liquidation levels.",
    "url": "/api/positions",
    "type": "GET",
    "response": "[{ date: String, type: String, symbol: String, contract_id: String, user: String, loan: BigDecimal, down_payment: BigDecimal, lease_value: BigDecimal, pnl: BigDecimal, pnl_percent: BigDecimal, current_price: BigDecimal, liquidation_price: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"date\": \"2025-01-15\", \"type\": \"Long\", \"symbol\": \"ATOM\", \"contract_id\": \"nolus1abc...\", \"user\": \"nolus1xyz...\", \"loan\": \"5000.00\", \"down_payment\": \"1000.00\", \"lease_value\": \"6500.00\", \"pnl\": \"500.00\", \"pnl_percent\": \"8.33\", \"current_price\": \"9.50\", \"liquidation_price\": \"7.20\" }]",
    "params": [
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Position Analytics",
    "description": "Streaming CSV export of all open positions.",
    "url": "/api/positions/export",
    "type": "GET",
    "response": "CSV file stream",
    "cache": "1 hour"
  },
  {
    "category": "Position Analytics",
    "description": "Returns monthly aggregated lease count and total volume statistics.",
    "url": "/api/leases-monthly",
    "type": "GET",
    "response": "[{ month: String, lease_count: Number, total_value: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"month\": \"2025-01\", \"lease_count\": 234, \"total_value\": \"4567890.12\" }]"
  },
  {
    "category": "Position Analytics",
    "description": "Returns daily counts of opened and closed positions for trend analysis.",
    "url": "/api/daily-positions",
    "type": "GET",
    "response": "[{ date: DateTime, closed_loans: BigDecimal, opened_loans: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"date\": \"2025-01-15T00:00:00Z\", \"closed_loans\": \"12\", \"opened_loans\": \"18\" }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Lending Analytics",
    "description": "Returns a list of currently active lenders with their deposit amounts per pool.",
    "url": "/api/current-lenders",
    "type": "GET",
    "response": "[{ joined: DateTime, pool: String, lender: String, lent_stables: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"joined\": \"2025-01-15T10:00:00Z\", \"pool\": \"Osmosis USDC\", \"lender\": \"nolus1abc...\", \"lent_stables\": \"10000.00\" }]",
    "params": [
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Lending Analytics",
    "description": "Returns liquidation events with time window filtering.",
    "url": "/api/liquidations",
    "type": "GET",
    "response": "[{ timestamp: DateTime, ticker: String, contract_id: String, user: String, transaction_type: String, liquidation_amount: BigDecimal, closed_loan: Boolean, down_payment: BigDecimal, loan: BigDecimal, liquidation_price: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"timestamp\": \"2025-01-15T14:30:00Z\", \"ticker\": \"ATOM\", \"contract_id\": \"nolus1abc...\", \"user\": \"nolus1xyz...\", \"transaction_type\": \"partial\", \"liquidation_amount\": \"2500.00\", \"closed_loan\": false, \"down_payment\": \"1000.00\", \"loan\": \"5000.00\", \"liquidation_price\": \"7.20\" }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Lending Analytics",
    "description": "Streaming CSV export of all liquidation events.",
    "url": "/api/liquidations/export",
    "type": "GET",
    "response": "CSV file stream",
    "cache": "1 hour"
  },
  {
    "category": "Lending Analytics",
    "description": "Returns statistical aggregates (min, max, avg, sum) of lease values per protocol.",
    "url": "/api/lease-value-stats",
    "type": "GET",
    "response": "[{ protocol: String, min_value: BigDecimal, max_value: BigDecimal, avg_value: BigDecimal, total_value: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"protocol\": \"OSMOSIS-OSMOSIS-USDC\", \"min_value\": \"100.00\", \"max_value\": \"50000.00\", \"avg_value\": \"5432.10\", \"total_value\": \"2345678.90\" }]"
  },
  {
    "category": "Lending Analytics",
    "description": "Returns lender deposit and withdrawal history with time window filtering.",
    "url": "/api/historical-lenders",
    "type": "GET",
    "response": "[{ transaction_type: String, timestamp: DateTime, user: String, amount: BigDecimal, pool: String }]",
    "cache": "1 hour",
    "example": "[{ \"transaction_type\": \"Deposit\", \"timestamp\": \"2025-01-15T10:00:00Z\", \"user\": \"nolus1abc...\", \"amount\": \"5000.00\", \"pool\": \"Osmosis USDC\" }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Lending Analytics",
    "description": "Streaming CSV export of all lender deposit/withdrawal history.",
    "url": "/api/historical-lenders/export",
    "type": "GET",
    "response": "CSV file stream",
    "cache": "1 hour"
  },
  {
    "category": "Lending Analytics",
    "description": "Returns a summary of loans granted per protocol with count and total value.",
    "url": "/api/loans-granted",
    "type": "GET",
    "response": "[{ protocol: String, count: Number, total_value: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"protocol\": \"OSMOSIS-OSMOSIS-USDC\", \"count\": 1234, \"total_value\": \"12345678.90\" }]"
  },
  {
    "category": "Lending Analytics",
    "description": "Returns historically liquidated positions with time window filtering.",
    "url": "/api/historically-liquidated",
    "type": "GET",
    "response": "[{ contract_id: String, asset: String, loan: BigDecimal, total_liquidated: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"contract_id\": \"nolus1abc...\", \"asset\": \"ATOM\", \"loan\": \"5000.00\", \"total_liquidated\": \"5234.56\" }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Lending Analytics",
    "description": "Streaming CSV export of all historically liquidated positions.",
    "url": "/api/historically-liquidated/export",
    "type": "GET",
    "response": "CSV file stream",
    "cache": "1 hour"
  },
  {
    "category": "Lending Analytics",
    "description": "Returns historically repaid positions with time window filtering.",
    "url": "/api/historically-repaid",
    "type": "GET",
    "response": "[{ contract_id: String, symbol: String, loan: BigDecimal, total_repaid: BigDecimal, close_timestamp: DateTime, loan_closed: String }]",
    "cache": "1 hour",
    "example": "[{ \"contract_id\": \"nolus1abc...\", \"symbol\": \"ATOM\", \"loan\": \"5000.00\", \"total_repaid\": \"5234.56\", \"close_timestamp\": \"2025-01-15T14:30:00Z\", \"loan_closed\": \"true\" }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Lending Analytics",
    "description": "Streaming CSV export of all historically repaid positions.",
    "url": "/api/historically-repaid/export",
    "type": "GET",
    "response": "CSV file stream",
    "cache": "1 hour"
  },
  {
    "category": "Lending Analytics",
    "description": "Returns interest repayment data aggregated from repayments, position closes, and liquidations.",
    "url": "/api/interest-repayments",
    "type": "GET",
    "response": "[{ timestamp: DateTime, contract_id: String, position_owner: String, position_type: String, event_type: String, loan_interest_repaid: BigDecimal, margin_interest_repaid: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"timestamp\": \"2025-01-15T14:30:00Z\", \"contract_id\": \"nolus1abc...\", \"position_owner\": \"nolus1xyz...\", \"position_type\": \"Long\", \"event_type\": \"repayment\", \"loan_interest_repaid\": \"45.67\", \"margin_interest_repaid\": \"12.34\" }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Lending Analytics",
    "description": "Streaming CSV export of all interest repayment events.",
    "url": "/api/interest-repayments/export",
    "type": "GET",
    "response": "CSV file stream",
    "cache": "1 hour"
  },
  {
    "category": "Lending Analytics",
    "description": "Returns historically opened positions with position type, opening price, and liquidation price. Supports time window filtering.",
    "url": "/api/historically-opened",
    "type": "GET",
    "response": "[{ contract_id: String, user: String, leased_asset: String, opening_date: DateTime, position_type: String, down_payment_amount: BigDecimal, down_payment_asset: String, loan: BigDecimal, total_position_amount_lpn: BigDecimal, price: BigDecimal, open: Boolean, liquidation_price: BigDecimal }]",
    "cache": "1 hour",
    "example": "[{ \"contract_id\": \"nolus1abc...\", \"user\": \"nolus1xyz...\", \"leased_asset\": \"ATOM\", \"opening_date\": \"2025-01-15T10:00:00Z\", \"position_type\": \"Long\", \"down_payment_amount\": \"1000.00\", \"down_payment_asset\": \"USDC\", \"loan\": \"5000.00\", \"total_position_amount_lpn\": \"6000.00\", \"price\": \"9.50\", \"open\": true, \"liquidation_price\": \"7.20\" }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Lending Analytics",
    "description": "Streaming CSV export of all historically opened positions.",
    "url": "/api/historically-opened/export",
    "type": "GET",
    "response": "CSV file stream",
    "cache": "1 hour"
  },
  {
    "category": "Lending Analytics",
    "description": "Returns realized PnL aggregated per wallet address with trade counts.",
    "url": "/api/realized-pnl-wallet",
    "type": "GET",
    "response": "[{ wallet: String, realized_pnl: BigDecimal, trade_count: Number }]",
    "cache": "1 hour",
    "example": "[{ \"wallet\": \"nolus1abc...\", \"realized_pnl\": \"1234.56\", \"trade_count\": 15 }]",
    "params": [
      { "name": "period", "type": "String", "default": "3m", "options": ["3m", "6m", "12m", "all"] },
      { "name": "from", "type": "DateTime", "description": "Only return records after this timestamp (exclusive), for incremental syncing" },
      { "name": "format", "type": "String", "default": "json", "options": ["json", "csv"] }
    ]
  },
  {
    "category": "Lending Analytics",
    "description": "Streaming CSV export of realized PnL by wallet.",
    "url": "/api/realized-pnl-wallet/export",
    "type": "GET",
    "response": "CSV file stream",
    "cache": "1 hour"
  },
  {
    "category": "Market Data",
    "description": "Returns historical price data for assets with interval and protocol filtering.",
    "url": "/api/prices",
    "type": "GET",
    "response": "[[timestamp: Number, price: Number]]",
    "example": "[[1767978000000, 2.577725], [1767974400000, 2.553094]]",
    "params": [
      { "name": "interval", "type": "Number", "required": true, "description": "Number of days to look back (max 100)", "max": 100 },
      { "name": "key", "type": "String", "required": true, "description": "Asset symbol (e.g., ATOM, OSMO)" },
      { "name": "protocol", "type": "String", "required": true, "description": "Protocol identifier (e.g., OSMOSIS-OSMOSIS-USDC_NOBLE)" }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns the unrealized profit and loss for a specific wallet address.",
    "url": "/api/unrealized-pnl-by-address",
    "type": "GET",
    "response": "{ unrealized_pnl: BigDecimal }",
    "example": "{ \"unrealized_pnl\": \"567.89\" }",
    "params": [
      { "name": "address", "type": "String", "required": true }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns PnL progression over time for a specific wallet address.",
    "url": "/api/pnl-over-time",
    "type": "GET",
    "response": "[{ date: DateTime, pnl: BigDecimal }]",
    "example": "[{ \"date\": \"2025-01-15T00:00:00Z\", \"pnl\": \"234.56\" }]",
    "params": [
      { "name": "address", "type": "String", "required": true },
      { "name": "interval", "type": "Number", "required": true, "description": "Number of days to look back (max 30)", "max": 30 }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns a paginated transaction history for a specific wallet address.",
    "url": "/api/txs",
    "type": "GET",
    "response": "[{ date: DateTime, tx_hash: String, type: String, amount: BigDecimal }]",
    "example": "[{ \"date\": \"2025-01-15T14:30:00Z\", \"tx_hash\": \"ABC123...\", \"type\": \"open_lease\", \"amount\": \"5000.00\" }]",
    "params": [
      { "name": "address", "type": "String", "required": true },
      { "name": "filter", "type": "String", "description": "Comma-separated transaction type filters (max 10 filters)", "options": ["transfers", "earn", "staking", "positions", "positions_ids"] },
      { "name": "to", "type": "String", "description": "Comma-separated contract IDs to filter by (used with positions_ids filter)" },
      { "name": "skip", "type": "Number", "default": 0 },
      { "name": "limit", "type": "Number", "default": 10, "max": 100 }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns a paginated list of leases for a specific wallet address.",
    "url": "/api/leases",
    "type": "GET",
    "response": "[{ lease: String, status: String, opened: DateTime, closed: DateTime, pnl: BigDecimal }]",
    "example": "[{ \"lease\": \"nolus1abc...\", \"status\": \"closed\", \"opened\": \"2025-01-01T10:00:00Z\", \"closed\": \"2025-01-15T14:00:00Z\", \"pnl\": \"234.56\" }]",
    "params": [
      { "name": "address", "type": "String", "required": true },
      { "name": "skip", "type": "Number", "default": 0 },
      { "name": "limit", "type": "Number", "default": 10, "max": 10 }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns paginated lease closing details with PnL for a specific wallet.",
    "url": "/api/ls-loan-closing",
    "type": "GET",
    "response": "[{ lease: String, pnl: BigDecimal, closed_at: DateTime }]",
    "example": "[{ \"lease\": \"nolus1abc...\", \"pnl\": \"345.67\", \"closed_at\": \"2025-01-15T14:00:00Z\" }]",
    "params": [
      { "name": "address", "type": "String", "required": true },
      { "name": "skip", "type": "Number", "default": 0 },
      { "name": "limit", "type": "Number", "default": 10, "max": 10 }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns the total realized profit and loss for a specific wallet address.",
    "url": "/api/realized-pnl",
    "type": "GET",
    "response": "{ realized_pnl: BigDecimal }",
    "example": "{ \"realized_pnl\": \"1234.56\" }",
    "params": [
      { "name": "address", "type": "String", "required": true }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns the current position value and outstanding debt for a specific wallet.",
    "url": "/api/position-debt-value",
    "type": "GET",
    "response": "{ position_value: BigDecimal, debt_value: BigDecimal }",
    "example": "{ \"position_value\": \"6500.00\", \"debt_value\": \"5000.00\" }",
    "params": [
      { "name": "address", "type": "String", "required": true }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns detailed realized PnL breakdown per lease for a specific wallet.",
    "url": "/api/realized-pnl-data",
    "type": "GET",
    "response": "[{ lease: String, pnl: BigDecimal, symbol: String }]",
    "example": "[{ \"lease\": \"nolus1abc...\", \"pnl\": \"234.56\", \"symbol\": \"ATOM\" }]",
    "params": [
      { "name": "address", "type": "String", "required": true }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns trading statistics including total trades, win rate, and average PnL for a wallet.",
    "url": "/api/history-stats",
    "type": "GET",
    "response": "{ total_trades: Number, win_rate: BigDecimal, avg_pnl: BigDecimal }",
    "example": "{ \"total_trades\": 25, \"win_rate\": \"68.00\", \"avg_pnl\": \"123.45\" }",
    "params": [
      { "name": "address", "type": "String", "required": true }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Searches and returns leases associated with a specific wallet address.",
    "url": "/api/leases-search",
    "type": "GET",
    "response": "[String]",
    "example": "[\"nolus1abc...\", \"nolus1def...\"]",
    "params": [
      { "name": "address", "type": "String", "required": true },
      { "name": "search", "type": "String", "description": "Search term to filter lease contract IDs" },
      { "name": "skip", "type": "Number", "default": 0 },
      { "name": "limit", "type": "Number", "default": 10, "max": 100 }
    ]
  },
  {
    "category": "Wallet Analytics",
    "description": "Returns the total earnings from lending for a specific wallet address.",
    "url": "/api/earnings",
    "type": "GET",
    "response": "{ earnings: BigDecimal }",
    "example": "{ \"earnings\": \"456.78\" }",
    "params": [
      { "name": "address", "type": "String", "required": true }
    ]
  },
  {
    "category": "Record Lookup",
    "description": "Returns the opening details for a specific lease by its contract ID.",
    "url": "/api/ls-opening",
    "type": "GET",
    "response": "{ lease: String, user: String, amount: BigDecimal, symbol: String, opened_at: DateTime }",
    "example": "{ \"lease\": \"nolus1abc...\", \"user\": \"nolus1xyz...\", \"amount\": \"5000.00\", \"symbol\": \"ATOM\", \"opened_at\": \"2025-01-15T10:00:00Z\" }",
    "params": [
      { "name": "lease", "type": "String", "required": true }
    ]
  },
  {
    "category": "Record Lookup",
    "description": "Returns opening details for multiple leases by their contract IDs.",
    "url": "/api/ls-openings",
    "type": "GET",
    "response": "[{ lease: String, user: String, amount: BigDecimal, symbol: String }]",
    "example": "[{ \"lease\": \"nolus1abc...\", \"user\": \"nolus1xyz...\", \"amount\": \"5000.00\", \"symbol\": \"ATOM\" }]",
    "params": [
      { "name": "leases", "type": "String", "required": true, "description": "Comma-separated list of lease contract IDs" }
    ]
  },
  {
    "category": "Record Lookup",
    "description": "Returns LP withdrawal details for a specific transaction hash. Returns 404 if transaction not found.",
    "url": "/api/lp-withdraw",
    "type": "GET",
    "response": "{ tx: String, amount: BigDecimal, pool: String }",
    "example": "{ \"tx\": \"ABC123...\", \"amount\": \"5000.00\", \"pool\": \"USDC_NOBLE\" }",
    "params": [
      { "name": "tx", "type": "String", "required": true }
    ]
  },
  {
    "category": "Push Notifications",
    "description": "Checks if a push notification subscription exists for a wallet address.",
    "url": "/api/subscribe",
    "type": "GET",
    "response": "{ result: Boolean }",
    "example": "{ \"result\": true }",
    "params": [
      { "name": "address", "type": "String", "required": true, "description": "Wallet address to check subscription for" },
      { "name": "auth", "type": "String", "required": true, "description": "Subscription auth key" },
      { "name": "active", "type": "Boolean", "required": true, "description": "Filter by active status" }
    ]
  },
  {
    "category": "Push Notifications",
    "description": "Creates or toggles a push notification subscription for a wallet address. If subscription exists, toggles active status.",
    "url": "/api/subscribe",
    "type": "POST",
    "response": "String (\"Subscribed\" or \"Unsubscribed\")",
    "example": "\"Subscribed\"",
    "body": {
      "address": "String - Wallet address",
      "data": {
        "endpoint": "String - Push notification endpoint URL",
        "expiration_time": "Number (optional) - Expiration timestamp in milliseconds",
        "keys": {
          "auth": "String - Auth key",
          "p256dh": "String - P256DH key"
        }
      }
    }
  }
]
