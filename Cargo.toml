[package]
name = "etl"
version = "3.7.3"
edition = "2021"
rust-version = "1.79.0"

[profile.dev.build-override]
codegen-units = 1
opt-level = 3

[profile.release]
codegen-units = 1
incremental = false
lto = true
opt-level = 3
overflow-checks = true
rpath = false

[profile.release.build-override]
codegen-units = 1
opt-level = 3

[features]
default = ["mainnet"]
mainnet = []
testnet = []

[dependencies]
actix-cors = "0.7"
actix-files = "0.6"
actix-web = "4.9"
anyhow = "1.0"
base64 = "0.22"
futures = "0.3"
ibc-proto = "0.51.0"
serde_json = "1.0"
sha256 = "1.5.0"
thiserror = "2.0"
tracing = "0.1"
tracing-subscriber = "0.3"
url = "2.5"

[dependencies.bigdecimal]
version = "0.4"
features = ["serde"]

[dependencies.chrono]
version = "0.4"
features = ["serde"]

[dependencies.cosmrs]
version = "0.21"
default-features = false
features = ["grpc", "bip32", "cosmwasm"]

[dependencies.serde]
version = "1.0"
features = ["derive"]

[dependencies.sqlx]
version = "0.8"
features = ["runtime-tokio-rustls", "postgres", "chrono", "bigdecimal"]

[dependencies.tendermint-rpc]
version = "0.40"
features = ["websocket-client"]

[dependencies.tokio]
version = "1.41"
features = ["fs", "macros", "rt-multi-thread"]

[dependencies.tonic]
version = "0.12"
default-features = false
features = ["channel", "gzip", "prost", "tls", "tls-roots", "transport", "zstd"]

[dev-dependencies.tokio]
version = "1.41"
features = ["test-util", "time"]
